<section class="hero">
  <div class="hero-content">
    <h1>{{ 'home.hero.title' | translate }}</h1>
    <p>{{ 'home.hero.subtitle' | translate }}</p>
    <button class="btn btn-primary" (click)="viewAllProducts()">
      {{ 'home.hero.cta' | translate }}
    </button>
  </div>
</section>

<section class="products-section">
  <div class="container">
    <div class="section-header">
      <h2>{{ 'home.products.title' | translate }}</h2>
      <button class="btn btn-secondary" (click)="viewAllProducts()">
        {{ 'home.products.viewAll' | translate }} ‚Üí
      </button>
    </div>
    @if(error()) {
      <div class="error-message">
        ‚ö†Ô∏è {{ error() }}
      </div>
    }
    @if(featuredProducts().length > 0) {
      <div class="products-grid">
        @for(product of featuredProducts(); track product.id) {
          <div class="product-card">
            <div class="product-image" (click)="viewProductDetails(product.id)">
              @if(product.imageUrl) {
              <img [src]="product.imageUrl" [alt]="product.name">
            } @else {
              <div class="no-image">üì¶</div>
            }
            @if(product.stock === 0) {
              <span class="badge badge-out">{{ 'home.products.outOfStock' | translate }}</span>
            } @else if(product.stock < 10) {
              <span class="badge badge-low">{{ 'home.products.badges.hot' | translate }}</span>
            }
          </div>
          <div class="product-info">
            <h3 (click)="viewProductDetails(product.id)">{{ product.name }}</h3>
            @if(product.description) {
              <p class="product-description">{{ product.description }}</p>
            }
            <div class="product-footer">
              <div class="price-section">
                <span class="price">${{ product.price.toFixed(2) }}</span>
                <span class="stock-info" [class.in-stock]="product.stock > 0">
                  {{ product.stock > 0 ? ('home.products.inStock' | translate) : ('home.products.outOfStock' | translate) }}
                </span>
              </div>
              <button 
                class="btn btn-cart"
                [disabled]="product.stock === 0"
                (click)="addToCart(product)">
                üõí {{ 'home.products.addToCart' | translate }}
              </button>
            </div>
          </div>
          </div>
        }
      </div>
    } @else {
      <div class="loading-state">
        <div class="spinner"></div>
        <p>{{ 'home.products.loading' | translate }}</p>
      </div>
    }
  </div>
</section>
